"use strict";var navbar_burger_item=document.getElementById("navbar-burger-item"),navbar_burger_button=document.querySelector('[data-target="navbar-burger-item"]'),message_modal=document.querySelector("#message_modal"),message_modal_content=document.querySelector("#message_modal_content"),message_modal_close_button=document.querySelectorAll(".message_modal_close_button");function modalMessage(e){message_modal.classList.toggle("is-active"),message_modal_content.innerHTML=e}navbar_burger_button.addEventListener("click",(function(){navbar_burger_button.classList.toggle("is-active"),navbar_burger_item.classList.toggle("is-active")})),message_modal_close_button.forEach((function(e){e.addEventListener("click",(function(){message_modal.classList.toggle("is-active")}))}));
"use strict";var your_url=document.querySelector("#your_url"),your_title=document.querySelector("#your_title"),your_description=document.querySelector("#your_description"),your_image=document.querySelector("#your_image"),preview_image=document.querySelectorAll(".preview-image"),preview_title=document.querySelectorAll(".preview-title"),preview_description=document.querySelectorAll(".preview-description"),submit_form_button=document.querySelector("#submit_form_button"),default_description="sk5short | make a short link just in a minutes, use javascript to redirect. | samko5sam",default_title="sk5short",default_image="https://alsonow.neocities.org/img/alsonow-lite-logo.svg";function geturlfavicon(e){return"https://s2.googleusercontent.com/s2/favicons?domain_url=".concat(e)}function use_website_favicon(){your_url.value?your_image.value=geturlfavicon(your_url.value):your_image.value="https://alsonow.neocities.org/img/alsonow-lite-logo.svg",updatepreview()}function updatepreview(){preview_image.forEach((function(e){e.src=""===your_image.value?default_image:your_image.value})),preview_title.forEach((function(e){e.innerHTML=""===your_title.value?default_title:your_title.value})),preview_description.forEach((function(e){e.innerHTML=""===your_description.value?default_description:your_description.value}))}function submit_form(){return your_image.value=""===your_image.value?default_image:your_image.value,your_title.value=""===your_title.value?default_title:your_title.value,your_description.value=""===your_description.value?default_description:your_description.value,'<!DOCTYPE html><html lang="zh" prefix="og: http://ogp.me/ns#"><head><title>'.concat(your_title.value,'</title><meta charset="utf-8"><meta name="author" content="samko5sam"><meta name="description" content="').concat(your_description.value,'"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/png" href="').concat(your_image.value,'"><meta property="og:title" content="').concat(your_title.value,'"><meta property="og:description" content="').concat(your_description.value,'"><meta property="og:url" content="').concat(your_url.value,'"><meta property="og:locale" content="').concat(your_locale.value,'"><meta property="og:image" content="').concat(your_image.value,'"><meta property="og:type" content="').concat(your_type.value,'"><meta property="og:site_name" content="').concat(your_site_name.value,'"></head><body><noscript><h1>您的瀏覽器不支援javascript，請手動按連結<br><h2>Javascript didn\'t enable, please open it by yourself.</h2></h1></noscript><script>window.location.href="').concat(your_url.value,'";<\/script><h1><a href="').concat(your_url.value,'">GO</a></h1></body></html>')}function generate_download_button(e,t,o){var r=new Blob([e],{type:o}),i=document.createElement("a"),a=URL.createObjectURL(r);i.href=a,i.download=t,i.classList.add("button","is-success","uppercase"),i.innerText="download";var n=document.getElementById("download_button");n.innerHTML="",n.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(a)}),100)}submit_form_button.addEventListener("click",(function(e){e.preventDefault();var t=submit_form();console.log(t),modalMessage("<h1 class='title is-2 uppercase'>copy this text</h1><pre><code id='code_area' contenteditable=\"true\"></code>");var o=document.getElementById("code_area");o.innerText="\x3c!--\n|     sk5short     |\n| make a short link just in a minutes, use javascript to redirect.| https://sk5s.github.io/sk5short/ --\x3e".concat(t),generate_download_button(o.innerText,"index.html","txt")}));